<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../asq-element-common/asq-element-common.html">

<polymer-element name="asq-option" attributes="correctanswer">
  <template>
    <style>
    </style>

    <!-- template for viewer -->
    <template if="{{role==Roles.VIEWER}}">
      <div class="asq-option">
        <li>
          <input id="option" type="checkbox" name="option">
          <label for="option"><content></content></label>  
        </li>
      </div>
    </template>

    <!-- template for presenter -->
    <template  if="{{role==Roles.PRESENTER}}">
      <div class="asq-option">
        <li>
          <content></content> 
        </li>
      </div>
    </template> 

    <template  if="{{role==Roles.TA}}">
      <div class="asq-option">
        <li>
          <content></content> 
        </li>
      </div>
    </template>    

  </template>
  <script>
    (function() {

      var p = {
        isCorrectAnswer: false,

       
        
        created: function  () {
          if ( this.attributes.hasOwnProperty("correctanswer") ) {
            this.isCorrectAnswer = this.attributes["correctanswer"];
            // this.removeAttribute("correctanswer");
          } else {
            this.isCorrectAnswer = false;
          }

        },

        getSubmission: function() {
          if ( this.role === this.Roles.VIEWER ) {
            // console.log(this, this.role, this.shadowRoot.querySelector("#option").checked);
            return this.$.option.checked;
          }
        },
       
      }

      ASQ.mixin2(p, ASQ.RoleMixin);
      Polymer.mixin(p, ASQ.ElementTypeMixin);
      Polymer('asq-option', p);
    })()
    
  </script>
</polymer-element>